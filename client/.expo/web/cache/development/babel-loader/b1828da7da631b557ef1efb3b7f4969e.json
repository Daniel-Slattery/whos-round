{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\danie\\\\github\\\\whos-round\\\\client\\\\screens\\\\HomeScreen.js\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport io from 'socket.io-client';\nimport { GiftedChat } from \"react-native-gifted-chat\";\nimport JoinScreen from \"./JoinScreen\";\n\nvar beerImage = require(\"../assets/beer.svg\");\n\nexport default function HomeScreen() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      recMessages = _useState2[0],\n      setRecMessages = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      hasJoined = _useState4[0],\n      setHasJoined = _useState4[1];\n\n  var socket = useRef(null);\n  useEffect(function () {\n    socket.current = io('http://localhost:3001');\n    socket.current.on('message', function (message) {\n      setRecMessages(function (prevState) {\n        return [message].concat(_toConsumableArray(prevState));\n      });\n    });\n  }, []);\n\n  var _onSend = function onSend(messages) {\n    console.log('messages in onSend: ', messages);\n    socket.current.emit('message', messages[0].text);\n    setRecMessages(function (prevState) {\n      return [messages[0]].concat(_toConsumableArray(prevState));\n    });\n  };\n\n  var joinChat = function joinChat(userName) {\n    socket.current.emit('join', userName);\n    setHasJoined(true);\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: 'beige'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, hasJoined ? React.createElement(View, {\n    style: {\n      alignItems: 'center',\n      padding: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 30,\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, \"\\uD83C\\uDF7B Welcome to the pub \\uD83C\\uDF7A \"), React.createElement(Image, {\n    style: {\n      flex: 1,\n      width: 300,\n      height: 300\n    },\n    source: beerImage,\n    resizeMode: \"contain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }), React.createElement(GiftedChat, {\n    renderUsernameOnMessage: true,\n    messages: recMessages,\n    onSend: function onSend(messages) {\n      return _onSend(messages);\n    },\n    user: {\n      _id: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  })) : React.createElement(JoinScreen, {\n    joinChat: joinChat,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), Platform.OS === \"android\" && React.createElement(KeyboardAvoidingView, {\n    behavior: \"padding\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 35\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Users/danie/github/whos-round/client/screens/HomeScreen.js"],"names":["React","useEffect","useState","useRef","io","GiftedChat","JoinScreen","beerImage","require","HomeScreen","recMessages","setRecMessages","hasJoined","setHasJoined","socket","current","on","message","prevState","onSend","messages","console","log","emit","text","joinChat","userName","flex","backgroundColor","alignItems","padding","fontSize","textAlign","width","height","_id","Platform","OS"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useRef} from 'react';\nimport { View, Text, Platform, KeyboardAvoidingView, Image } from 'react-native';\nimport io from 'socket.io-client';\nimport { GiftedChat } from \"react-native-gifted-chat\";\nimport JoinScreen from './JoinScreen';\n\nconst beerImage = require('../assets/beer.svg');\n\nexport default function HomeScreen() {\n  const [recMessages, setRecMessages] = useState([]);\n  const [hasJoined, setHasJoined] = useState(true);\n  const socket = useRef(null);\n\n  useEffect(() => {\n    socket.current = io('http://localhost:3001'); // ip may need to be updated 10.10.22.159\n    socket.current.on('message', message => {\n      setRecMessages(prevState => [message, ...prevState]);\n    });\n  },[])\n\n  const onSend = (messages) => {\n    console.log('messages in onSend: ', messages);\n    socket.current.emit('message', messages[0].text);\n    setRecMessages(prevState => [messages[0], ...prevState]);\n  };\n\n  const joinChat = userName => {\n    socket.current.emit('join', userName);\n    setHasJoined(true);\n  }\n\n\n  return (\n    <View style={{ flex: 1, backgroundColor: 'beige' }} >\n    {hasJoined ? (\n      <View style={{alignItems: 'center', padding: 20}}>\n        <Text style={{fontSize: 30, textAlign: 'center'}}>ğŸ» Welcome to the pub ğŸº </Text>\n        <Image style={{flex: 1, width: 300, height: 300}} source={beerImage} resizeMode='contain' />\n        <GiftedChat\n          renderUsernameOnMessage\n          messages={recMessages}\n          onSend={messages => onSend(messages)}\n          user={{\n            _id: 1\n          }}\n        />\n      </View>\n    ) : (\n      <JoinScreen joinChat={joinChat} />\n    )}\n    {Platform.OS === \"android\" && <KeyboardAvoidingView behavior=\"padding\" />}\n  </View>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}